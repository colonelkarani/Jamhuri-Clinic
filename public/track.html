<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Health Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            /*border-radius: 15px;*/
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab:hover {
            color: #667eea;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        input, select, textarea {
            padding: 10px;
            border: 2px solid #e0e0e0;
            /*border-radius: 8px;*/
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            /*border-radius: 8px;*/
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .log-entry {
            background: #f8f9fa;
            padding: 15px;
            /*border-radius: 8px;*/
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .log-entry strong {
            color: #667eea;
        }

        .delete-btn {
            background: #e74c3c;
            padding: 5px 15px;
            font-size: 14px;
            margin-top: 5px;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .chart-container {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            /*border-radius: 10px;*/
        }

        .med-item {
            background: #fff;
            padding: 15px;
            border: 2px solid #e0e0e0;
           /* border-radius: 8px;*/
            margin-bottom: 10px;
        }

        .med-item h3 {
            color: #667eea;
            margin-bottom: 5px;
        }

        .appointment-item {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 15px;
            /*border-radius: 8px;*/
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome back Charity</h1>
        <h1>Personal Health Tracker</h1>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('vitals')">Vital Signs</button>
            <button class="tab" onclick="showTab('glucose')">Blood Sugar</button>
            <button class="tab" onclick="showTab('medication')">Medications</button>
            <button class="tab" onclick="showTab('appointments')">Appointments</button>
            <button class="tab" onclick="showTab('graphs')">View Graphs</button>
        </div>

        <!-- Vital Signs Tab -->
        <div id="vitals" class="tab-content active">
            <h2>Vital Signs Tracking</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Blood Pressure (mmHg)</label>
                    <input type="text" id="bp" placeholder="120/80">
                </div>
                <div class="form-group">
                    <label>Heart Rate (bpm)</label>
                    <input type="number" id="hr" placeholder="72">
                </div>
                <div class="form-group">
                    <label>Temperature (°F)</label>
                    <input type="number" id="temp" step="0.1" placeholder="98.6">
                </div>
                <div class="form-group">
                    <label>Respiratory Rate (breaths/min)</label>
                    <input type="number" id="rr" placeholder="16">
                </div>
                <div class="form-group">
                    <label>Oxygen Saturation (%)</label>
                    <input type="number" id="o2" placeholder="98">
                </div>
                <div class="form-group">
                    <label>Weight (lbs)</label>
                    <input type="number" id="weight" step="0.1" placeholder="150">
                </div>
            </div>
            <button onclick="saveVitals()">Save Vital Signs</button>
            
            <h3 style="margin-top: 30px;">Recent Readings</h3>
            <div id="vitalsLog"></div>
        </div>

        <!-- Blood Sugar Tab -->
        <div id="glucose" class="tab-content">
            <h2>Blood Sugar Log</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Glucose Level (mg/dL)</label>
                    <input type="number" id="glucoseLevel" placeholder="100">
                </div>
                <div class="form-group">
                    <label>Measurement Time</label>
                    <select id="glucoseTime">
                        <option>Fasting</option>
                        <option>Before Breakfast</option>
                        <option>After Breakfast</option>
                        <option>Before Lunch</option>
                        <option>After Lunch</option>
                        <option>Before Dinner</option>
                        <option>After Dinner</option>
                        <option>Bedtime</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Notes</label>
                    <input type="text" id="glucoseNotes" placeholder="Any observations">
                </div>
            </div>
            <button onclick="saveGlucose()">Save Blood Sugar Reading</button>
            
            <h3 style="margin-top: 30px;">Blood Sugar History</h3>
            <div id="glucoseLog"></div>
        </div>

        <!-- Medication Tab -->
        <div id="medication" class="tab-content">
            <h2>Medication Tracker</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Medication Name</label>
                    <input type="text" id="medName" placeholder="e.g., Aspirin">
                </div>
                <div class="form-group">
                    <label>Dosage</label>
                    <input type="text" id="medDose" placeholder="e.g., 100mg">
                </div>
                <div class="form-group">
                    <label>Frequency</label>
                    <select id="medFreq">
                        <option>Once daily</option>
                        <option>Twice daily</option>
                        <option>Three times daily</option>
                        <option>As needed</option>
                        <option>Weekly</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Time(s)</label>
                    <input type="text" id="medTimes" placeholder="e.g., 8:00 AM, 8:00 PM">
                </div>
            </div>
            <button onclick="addMedication()">Add Medication</button>
            
            <h3 style="margin-top: 30px;">Current Medications</h3>
            <div id="medList"></div>

            <h3 style="margin-top: 30px;">Log Medication Taken</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Select Medication</label>
                    <select id="medTaken"></select>
                </div>
                <div class="form-group">
                    <label>Time Taken</label>
                    <input type="time" id="timeTaken">
                </div>
            </div>
            <button onclick="logMedication()">Log Intake</button>
            
            <h3 style="margin-top: 30px;">Medication Log</h3>
            <div id="medLog"></div>
        </div>

        <!-- Appointments Tab -->
        <div id="appointments" class="tab-content">
            <h2>Appointments</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Doctor/Clinic</label>
                    <input type="text" id="aptDoc" placeholder="Dr. Smith">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="aptDate">
                </div>
                <div class="form-group">
                    <label>Time</label>
                    <input type="time" id="aptTime">
                </div>
                <div class="form-group">
                    <label>Reason</label>
                    <input type="text" id="aptReason" placeholder="Annual checkup">
                </div>
            </div>
            <button onclick="addAppointment()">Add Appointment</button>
            
            <h3 style="margin-top: 30px;">Upcoming Appointments</h3>
            <div id="aptList"></div>
        </div>

        <!-- Graphs Tab -->
        <div id="graphs" class="tab-content">
            <h2>Health Data Visualization</h2>
            <div class="form-group">
                <label>Select Data to Graph</label>
                <select id="graphSelect" onchange="updateGraph()">
                    <option value="hr">Heart Rate</option>
                    <option value="temp">Temperature</option>
                    <option value="weight">Weight</option>
                    <option value="glucose">Blood Sugar</option>
                    <option value="o2">Oxygen Saturation</option>
                </select>
            </div>
            <div class="chart-container">
                <canvas id="healthChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        let healthData = {
            vitals: [],
            glucose: [],
            medications: [],
            medLog: [],
            appointments: []
        };

        let chart = null;

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'graphs') {
                updateGraph();
            }
        }

        function saveVitals() {
            const entry = {
                date: new Date().toLocaleString(),
                bp: document.getElementById('bp').value,
                hr: document.getElementById('hr').value,
                temp: document.getElementById('temp').value,
                rr: document.getElementById('rr').value,
                o2: document.getElementById('o2').value,
                weight: document.getElementById('weight').value
            };
            
            healthData.vitals.push(entry);
            displayVitalsLog();
            
            document.getElementById('bp').value = '';
            document.getElementById('hr').value = '';
            document.getElementById('temp').value = '';
            document.getElementById('rr').value = '';
            document.getElementById('o2').value = '';
            document.getElementById('weight').value = '';
        }

        function displayVitalsLog() {
            const log = document.getElementById('vitalsLog');
            log.innerHTML = '';
            healthData.vitals.slice().reverse().forEach((entry, idx) => {
                const realIdx = healthData.vitals.length - 1 - idx;
                log.innerHTML += `
                    <div class="log-entry">
                        <strong>${entry.date}</strong><br>
                        BP: ${entry.bp} | HR: ${entry.hr} bpm | Temp: ${entry.temp}°F<br>
                        RR: ${entry.rr} | O2: ${entry.o2}% | Weight: ${entry.weight} lbs
                        <button class="delete-btn" onclick="deleteEntry('vitals', ${realIdx})">Delete</button>
                    </div>
                `;
            });
        }

        function saveGlucose() {
            const entry = {
                date: new Date().toLocaleString(),
                level: document.getElementById('glucoseLevel').value,
                time: document.getElementById('glucoseTime').value,
                notes: document.getElementById('glucoseNotes').value
            };
            
            healthData.glucose.push(entry);
            displayGlucoseLog();
            
            document.getElementById('glucoseLevel').value = '';
            document.getElementById('glucoseNotes').value = '';
        }

        function displayGlucoseLog() {
            const log = document.getElementById('glucoseLog');
            log.innerHTML = '';
            healthData.glucose.slice().reverse().forEach((entry, idx) => {
                const realIdx = healthData.glucose.length - 1 - idx;
                log.innerHTML += `
                    <div class="log-entry">
                        <strong>${entry.date}</strong><br>
                        Glucose: ${entry.level} mg/dL | ${entry.time}<br>
                        Notes: ${entry.notes || 'None'}
                        <button class="delete-btn" onclick="deleteEntry('glucose', ${realIdx})">Delete</button>
                    </div>
                `;
            });
        }

        function addMedication() {
            const med = {
                name: document.getElementById('medName').value,
                dose: document.getElementById('medDose').value,
                freq: document.getElementById('medFreq').value,
                times: document.getElementById('medTimes').value
            };
            
            healthData.medications.push(med);
            displayMedications();
            updateMedTakenSelect();
            
            document.getElementById('medName').value = '';
            document.getElementById('medDose').value = '';
            document.getElementById('medTimes').value = '';
        }

        function displayMedications() {
            const list = document.getElementById('medList');
            list.innerHTML = '';
            healthData.medications.forEach((med, idx) => {
                list.innerHTML += `
                    <div class="med-item">
                        <h3>${med.name}</h3>
                        <p><strong>Dose:</strong> ${med.dose} | <strong>Frequency:</strong> ${med.freq}</p>
                        <p><strong>Times:</strong> ${med.times}</p>
                        <button class="delete-btn" onclick="deleteEntry('medications', ${idx})">Remove</button>
                    </div>
                `;
            });
        }

        function updateMedTakenSelect() {
            const select = document.getElementById('medTaken');
            select.innerHTML = '<option>Select medication</option>';
            healthData.medications.forEach(med => {
                select.innerHTML += `<option value="${med.name}">${med.name}</option>`;
            });
        }

        function logMedication() {
            const entry = {
                date: new Date().toLocaleString(),
                med: document.getElementById('medTaken').value,
                time: document.getElementById('timeTaken').value
            };
            
            if (entry.med === 'Select medication') return;
            
            healthData.medLog.push(entry);
            displayMedLog();
        }

        function displayMedLog() {
            const log = document.getElementById('medLog');
            log.innerHTML = '';
            healthData.medLog.slice().reverse().forEach((entry, idx) => {
                const realIdx = healthData.medLog.length - 1 - idx;
                log.innerHTML += `
                    <div class="log-entry">
                        <strong>${entry.date}</strong><br>
                        Medication: ${entry.med} | Time: ${entry.time}
                        <button class="delete-btn" onclick="deleteEntry('medLog', ${realIdx})">Delete</button>
                    </div>
                `;
            });
        }

        function addAppointment() {
            const apt = {
                doctor: document.getElementById('aptDoc').value,
                date: document.getElementById('aptDate').value,
                time: document.getElementById('aptTime').value,
                reason: document.getElementById('aptReason').value
            };
            
            healthData.appointments.push(apt);
            displayAppointments();
            
            document.getElementById('aptDoc').value = '';
            document.getElementById('aptDate').value = '';
            document.getElementById('aptTime').value = '';
            document.getElementById('aptReason').value = '';
        }

        function displayAppointments() {
            const list = document.getElementById('aptList');
            list.innerHTML = '';
            healthData.appointments.forEach((apt, idx) => {
                list.innerHTML += `
                    <div class="appointment-item">
                        <h3>${apt.doctor}</h3>
                        <p><strong>Date:</strong> ${apt.date} at ${apt.time}</p>
                        <p><strong>Reason:</strong> ${apt.reason}</p>
                        <button class="delete-btn" onclick="deleteEntry('appointments', ${idx})">Cancel</button>
                    </div>
                `;
            });
        }

        function deleteEntry(type, idx) {
            healthData[type].splice(idx, 1);
            
            if (type === 'vitals') displayVitalsLog();
            if (type === 'glucose') displayGlucoseLog();
            if (type === 'medications') {
                displayMedications();
                updateMedTakenSelect();
            }
            if (type === 'medLog') displayMedLog();
            if (type === 'appointments') displayAppointments();
        }

        function updateGraph() {
            const type = document.getElementById('graphSelect').value;
            const ctx = document.getElementById('healthChart').getContext('2d');
            
            let labels = [];
            let data = [];
            let label = '';
            
            if (type === 'glucose') {
                labels = healthData.glucose.map(e => e.date);
                data = healthData.glucose.map(e => parseFloat(e.level));
                label = 'Blood Sugar (mg/dL)';
            } else {
                labels = healthData.vitals.map(e => e.date);
                if (type === 'hr') {
                    data = healthData.vitals.map(e => parseFloat(e.hr));
                    label = 'Heart Rate (bpm)';
                } else if (type === 'temp') {
                    data = healthData.vitals.map(e => parseFloat(e.temp));
                    label = 'Temperature (°F)';
                } else if (type === 'weight') {
                    data = healthData.vitals.map(e => parseFloat(e.weight));
                    label = 'Weight (lbs)';
                } else if (type === 'o2') {
                    data = healthData.vitals.map(e => parseFloat(e.o2));
                    label = 'Oxygen Saturation (%)';
                }
            }
            
            if (chart) chart.destroy();
            
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: label,
                        data: data,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>